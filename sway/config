
exec_always swaybg -i ~/Pictures/background/bg.jpg

### Variables ###
# Use Mod1 for Alt.
set $mod Mod1
font pango:JetBrainsMono Nerd Font Bold 10
set $left h
set $down j
set $up k
set $right l

# Browsers
set $browser firefox
set $altbrowser vivaldi

# Terminal
set $term kitty

# Filemanager
set $file thunar

# Wallpaper

# Editor
set $editor nvim

# Menu
set $menu  wofi --show=drun --lines=10 --prompt="Search" --allow-images --allow-markup -i


# Set screenrecorder
# set $screenrecorder toggle-screen-recorder.sh
# set $ocrscreenshot `grim -g "$(slurp)" - | tesseract stdin stdout -l eng | wl-copy`



# Theme: Catppuccin
set $green #ABE9B3
set $black #1E1E2E
set $red #F28FAD
set $peach #F8BD96
set $transparent #00000000

# Colors
#class                      border      #bg     #text       #indicator      #childborder
client.focused              $green      $green  $black      $red            $green
client.focused_inactive     $green      $black  $green      $red            $green
client.unfocused            $peach      $peach  $black      $red            $peach
client.urgent               $red        $red    $black      $red            $red

# Gaps
gaps horizontal 2
gaps vertical 2
gaps left 1
gaps right 1
gaps inner 2
default_border pixel 2

# Window rules
for_window [window_role="pop-up"] floating enable
for_window [window_role="task_dialog"] floating enable
for_window [app_id="timeshift-gtk"] floating enable

# Output
output eDP-1 {
	subpixel rgb
	scale 1
}

input "1267:12490:DELL097F:00_04F3:30CA_Touchpad" {
   dwt enabled
   tap enabled
   natural_scroll enabled
   middle_emulation enabled
}

# seat seat0 xcursor_theme Catppuccin-Dark-Cursors 32
### Misc Options ###
focus_follows_mouse yes
floating_modifier $mod normal
floating_maximum_size 1366 x 768

### Essential bindings ###
    # Sound
    bindsym --locked XF86AudioRaiseVolume exec ~/.config/waybar/scripts/volume.sh --inc
    bindsym --locked XF86AudioLowerVolume exec ~/.config/waybar/scripts/volume.sh --dec
    bindsym --locked XF86AudioMute exec ~/.config/waybar/scripts/volume.sh --toggle
    bindsym --locked XF86AudioMicMute exec --no-startup-id pactl set-source-mute 0 toggle
    # Brightness
    # bindsym --locked XF86MonBrightnessUp exec brightness.sh --inc
    # bindsym --locked XF86MonBrightnessDown exec brightness.sh --dec
    # Move focus around
    bindsym $mod+$left focus left
    bindsym $mod+$down focus down
    bindsym $mod+$up focus up
    bindsym $mod+$right focus right
    # Or use $mod+[up|down|left|right]
    bindsym $mod+Left focus left
    bindsym $mod+Down focus down
    bindsym $mod+Up focus up
    bindsym $mod+Right focus right
    # Move the focused window with the same, but add Shift
    bindsym $mod+Shift+$left move left
    bindsym $mod+Shift+$down move down
    bindsym $mod+Shift+$up move up
    bindsym $mod+Shift+$right move right
    # Ditto, with arrow keys
    bindsym $mod+Shift+Left move left
    bindsym $mod+Shift+Down move down
    bindsym $mod+Shift+Up move up
    bindsym $mod+Shift+Right move right
    # Switch to workspace
    bindsym $mod+1 workspace number 1
    bindsym $mod+2 workspace number 2
    bindsym $mod+3 workspace number 3
    bindsym $mod+4 workspace number 4
    bindsym $mod+5 workspace number 5
    bindsym $mod+6 workspace number 6
    bindsym $mod+7 workspace number 7
    bindsym $mod+8 workspace number 8
    bindsym $mod+9 workspace number 9
    bindsym $mod+0 workspace number 10
    # Move focused container to workspace
    bindsym $mod+Shift+1 move container to workspace number 1
    bindsym $mod+Shift+2 move container to workspace number 2
    bindsym $mod+Shift+3 move container to workspace number 3
    bindsym $mod+Shift+4 move container to workspace number 4
    bindsym $mod+Shift+5 move container to workspace number 5
    bindsym $mod+Shift+6 move container to workspace number 6
    bindsym $mod+Shift+7 move container to workspace number 7
    bindsym $mod+Shift+8 move container to workspace number 8
    bindsym $mod+Shift+9 move container to workspace number 9
    bindsym $mod+Shift+0 move container to workspace number 10
    # Layout
    bindsym $mod+b splith
    bindsym $mod+v splitv
    bindsym $mod+s layout stacking
    bindsym $mod+w layout tabbed
    bindsym $mod+e layout toggle split
    # Fullscreen stuff
    bindsym $mod+f fullscreen
    bindsym $mod+Shift+space floating toggle
    bindsym $mod+space focus mode_toggle
    bindsym $mod+a focus parent
    # Scratchpad
    bindsym $mod+m move scratchpad
    bindsym $mod+n scratchpad show
    # Resize
    mode "resize" {
    	bindsym $left resize shrink width 20px
    	bindsym $down resize grow height 20px
    	bindsym $up resize shrink height 20px
    	bindsym $right resize grow width 20px

    	bindsym Left resize shrink width 20px
    	bindsym Down resize grow height 20px
    	bindsym Up resize shrink height 20px
    	bindsym Right resize grow width 20px
    	bindsym Return mode "default"
    	bindsym Escape mode "default"
	}

    bindsym $mod+Shift+r mode "resize"
    # Kill focused window
    bindsym $mod+Shift+q kill
    # Force kill focused window
    bindsym $mod+Shift+x exec swaymsg -t get_tree | \
          jq '.. | select(.type?) | select(.focused==true).pid' | \
          xargs -L 1 kill -9

    # exec /usr/share/sway/scripts/inactive-windows-transparency.py --opacity 0.80

    # Reload sway
    bindsym $mod+Shift+c reload
    # Exit sway
    bindsym $mod+Shift+e exec ~/.config/sway/scripts/sway_exit.sh

### Bindings ### 
	# Terminal
    bindsym $mod+Return exec $term
    # Filemanager
    bindsym mod4+e exec --no-startup-id $file

   # Launcher
    # bindsym $mod+d exec $dmenu
    bindsym mod4+space exec $menu

    # Browser
    bindsym $mod+Shift+b exec $altbrowser
    bindsym mod4+Shift+b exec $browser
   
   # Lock/display flipping
   # bindsym $mod+Control+l exec $lock
    bindsym Print exec gscreenshot
    bindsym $mod+Print exec gscreenshot -n -sc
    
    # Clipboard
    # bindsym $mod+shift+v exec scripts/clipboard.sh
    
    # Powermenu
    bindsym Control+Delete exec swaylock -c 000000
    bindsym $mod+Control+p exec ~/.config/sway/scripts/powermenu.sh

# ========== GAPS ==========


bar {
    swaybar_command waybar
}


# This is because sway does not set the desktop enviroment variable
include /etc/sway/config.d/*

