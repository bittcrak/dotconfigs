exec_always swaybg -i ~/Pictures/background/swayBG.png
exec_always wl-paste --type text --watch cliphist store
exec_always wl-paste --type image --watch cliphist store

### Variables ###
# Use Mod1 for Alt.
set $mod Mod1
font pango:JetBrainsMono Nerd Font Bold 10
set $left h
set $down j
set $up k
set $right l

# Browsers
set $browser firefox
set $altbrowser vivaldi

# Terminal
set $term kitty

# Filemanager
set $file thunar

# Copy screenshot of selection to clipboard
bindsym Print exec grim -g "$(slurp)" - | wl-copy

# Save screenshot of selection to file
bindsym Shift+Print exec grim -g "$(slurp)" ~/Pictures/Screenshots/$(date +%Y%m%d-%H%M%S).jpeg

# Copy full screen screenshot to clipboard
bindsym Ctrl+Print exec grim - | wl-copy

# Save full screen screenshot to file
bindsym Ctrl+Shift+Print exec grim ~/Pictures/Screenshots/$(date +%Y%m%d-%H%M%S).jpeg

# Show clipboard history (copy selection)
bindsym $mod+Ctrl+v exec cliphist list | wofi -d -p --allow-images "Select entry:" | cliphist decode | wl-copy

# Delete from clipboard history
bindsym $mod+Ctrl+x exec cliphist list | wofi -d -p "Delete entry:" | cliphist delete

# Menu
set $menu  wofi --show=drun --lines=10 --prompt="Search" --allow-images --allow-markup -i

# Theme: Obsidian
set $grey #A4B3B6
set $black #1E1E2E
set $red #E94560
set $purple #44318D

# Colors
#class                      border      bg	    	text       	indicator    	childborder
client.focused              $grey    	$grey	 	$black      $red            $purple
client.focused_inactive     $purple     $black  	$black 	    $red            $purple
client.unfocused            $purple   	$purple 	$black      $red            $grey
client.urgent               $red        $red    	$black      $red            $red

# Gaps
gaps horizontal 1
gaps vertical 1
gaps left 1
gaps right 1
gaps inner 1
default_border pixel 1

# Window rules
for_window [window_role="pop-up"] floating enable
for_window [window_role="task_dialog"] floating enable

# Floating windows for dialogs, popups, and utility windows
for_window [window_type="dialog"] floating enable
for_window [window_type="utility"] floating enable
for_window [window_type="toolbar"] floating enable
for_window [window_type="splash"] floating enable
for_window [window_type="menu"] floating enable
for_window [window_type="dropdown_menu"] floating enable
for_window [window_type="popup_menu"] floating enable
for_window [window_type="tooltip"] floating enable
for_window [window_type="notification"] floating enable

# Firefox-specific floating rules
#for_window [app_id="firefox-esr" window_type="dialog"] floating enable
for_window [app_id="firefox-esr" window_type="popup"] floating enable
for_window [app_id="firefox-esr" title="Picture-in-Picture"] floating enable

# Common dialog patterns
for_window [title=".*[Ss]ave.*"] floating enable
for_window [title=".*[Oo]pen.*"] floating enable
for_window [title=".*[Pp]references.*"] floating enable
for_window [title=".*[Ss]earch.*"] floating enable
for_window [title=".*[Cc]onfirm.*"] floating enable

# Output
output eDP-1 {
	subpixel rgb
	scale 1
	pos 0 720
}

output HDMI-A-1 {
	res 1280x720
	pos 0 0
}

input "1267:12490:DELL097F:00_04F3:30CA_Touchpad" {
   dwt enabled
   tap enabled
   natural_scroll enabled
   middle_emulation enabled
}

# Hide Cursor
seat  * hide_cursor 1000

### Misc Options ###
focus_follows_mouse yes
floating_modifier $mod normal
floating_maximum_size 1024 x 720

### Essential bindings ###
    # Sound
    bindsym --locked XF86AudioRaiseVolume exec ~/.config/waybar/scripts/volume.sh --inc
    bindsym --locked XF86AudioLowerVolume exec ~/.config/waybar/scripts/volume.sh --dec
    bindsym --locked XF86AudioMute exec ~/.config/waybar/scripts/volume.sh --toggle
    bindsym --locked XF86AudioMicMute exec --no-startup-id pactl set-source-mute 0 toggle
    # Brightness
    # bindsym --locked XF86MonBrightnessUp exec brightness.sh --inc
    # bindsym --locked XF86MonBrightnessDown exec brightness.sh --dec
    # Move focus around
    bindsym $mod+$left focus left
    bindsym $mod+$down focus down
    bindsym $mod+$up focus up
    bindsym $mod+$right focus right
    # Or use $mod+[up|down|left|right]
    bindsym $mod+Left focus left
    bindsym $mod+Down focus down
    bindsym $mod+Up focus up
    bindsym $mod+Right focus right
    # Move the focused window with the same, but add Shift
    bindsym $mod+Shift+$left move left
    bindsym $mod+Shift+$down move down
    bindsym $mod+Shift+$up move up
    bindsym $mod+Shift+$right move right
    # Ditto, with arrow keys
    bindsym $mod+Shift+Left move left
    bindsym $mod+Shift+Down move down
    bindsym $mod+Shift+Up move up
    bindsym $mod+Shift+Right move right
    # Switch to workspace
set $ws1 1:[Term]
set $ws2 2:[Brsr]
set $ws3 3:[NP]
set $ws4 4:[VM]
set $ws5 5:[XX]
set $ws6 6:[YY]
set $ws0 0:[Mus]
set $ws7 7:[ZZ]
set $ws8 8:[~1]
set $ws9 9:[~2]
    bindsym $mod+1 workspace $ws1
    bindsym $mod+2 workspace $ws2
    bindsym $mod+3 workspace $ws3
    bindsym $mod+4 workspace $ws4
    bindsym $mod+5 workspace $ws5
    bindsym $mod+6 workspace $ws6
    bindsym $mod+7 workspace $ws7
    bindsym $mod+8 workspace $ws8
    bindsym $mod+9 workspace $ws9
    bindsym $mod+0 workspace $ws0
    # Move focused container to workspace
    bindsym $mod+Shift+1 move container to workspace $ws1
    bindsym $mod+Shift+2 move container to workspace $ws2
    bindsym $mod+Shift+3 move container to workspace $ws3
    bindsym $mod+Shift+4 move container to workspace $ws4
    bindsym $mod+Shift+5 move container to workspace $ws5
    bindsym $mod+Shift+6 move container to workspace $ws6
    bindsym $mod+Shift+7 move container to workspace $ws7
    bindsym $mod+Shift+8 move container to workspace $ws8
    bindsym $mod+Shift+9 move container to workspace $ws9
    bindsym $mod+Shift+0 move container to workspace $ws0
    # Layout
    bindsym $mod+b splith
    bindsym $mod+v splitv
    bindsym $mod+s layout stacking
    bindsym $mod+w layout tabbed
    bindsym $mod+e layout toggle split
    # Fullscreen stuff
    bindsym $mod+f fullscreen
    bindsym $mod+Shift+space floating toggle
    bindsym $mod+space focus mode_toggle
    bindsym $mod+a focus parent
    # Scratchpad
    bindsym $mod+m move scratchpad
    bindsym $mod+n scratchpad show
    # Resize
    mode "resize" {
    	bindsym $left resize shrink width 20px
    	bindsym $down resize grow height 20px
    	bindsym $up resize shrink height 20px
    	bindsym $right resize grow width 20px

    	bindsym Left resize shrink width 20px
    	bindsym Down resize grow height 20px
    	bindsym Up resize shrink height 20px
    	bindsym Right resize grow width 20px

    	bindsym Return mode "default"
    	bindsym Escape mode "default"
	}

    bindsym $mod+r mode "resize"
    # Kill focused window
    bindsym $mod+Shift+q kill
    # Force kill focused window
    bindsym $mod+Shift+x exec swaymsg -t get_tree | \
          jq '.. | select(.type?) | select(.focused==true).pid' | \
          xargs -L 1 kill -9

    # exec /usr/share/sway/scripts/inactive-windows-transparency.py --opacity 0.80

    # Reload sway
    bindsym $mod+Shift+c reload
    # Exit sway
    bindsym $mod+Shift+e exec ~/.config/sway/scripts/sway_exit.sh

### Bindings ### 
	# Terminal
    bindsym $mod+Return exec $term
    # Filemanager
    bindsym mod4+e exec --no-startup-id $file

   # Launcher
    # bindsym $mod+d exec $dmenu
    bindsym mod4+space exec $menu

    # Browser
    bindsym $mod+Shift+b exec $altbrowser
    bindsym mod4+Shift+b exec $browser
    
    # Powermenu
    bindsym Control+Delete exec swaylock -c 000000
    bindsym $mod+Control+p exec ~/.config/sway/scripts/powermenu.sh



bar {
    swaybar_command waybar
}


# This is because sway does not set the desktop enviroment variable
include /etc/sway/config.d/*

